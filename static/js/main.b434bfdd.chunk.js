(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},54:function(e,t,c){},73:function(e,t,c){},89:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(21),r=c.n(i),s=c(41),o=c(15),l=c.n(o),d=c(24),j=c(11),u=(c(47),c(12)),b=(c(48),c.p+"static/media/logo.f885b6b5.jpg"),O=c(1),m=function(e){var t=e.onCLickCart;return Object(O.jsx)("header",{children:Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/last-seen/",children:Object(O.jsx)("img",{src:b,alt:"Logo"})})}),Object(O.jsx)("li",{onClick:t,style:{marginTop:"10px"},children:"Cart"})]})})})},p=c(4),h=c(13),f=(c(54),function(e){var t=e.id,c=e.title,a=e.imageURL,n=e.hoverImageURL,i=e.price,r=e.total;return a="./.".concat(a),n="./.".concat(n),Object(O.jsx)(u.b,{to:"/last-seen/products/".concat(function(e){return e.split(" ").join("-")}(c)),children:Object(O.jsxs)("div",{className:"card","data-id":t,children:[Object(O.jsxs)("div",{className:"image",children:[Object(O.jsx)("img",{src:a,alt:c,onMouseOver:function(e){return e.currentTarget.src=n},onMouseOut:function(e){return e.currentTarget.src=a}}),0===r?Object(O.jsx)("div",{className:"status",children:"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"}):null]}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"title",children:c}),Object(O.jsxs)("div",{className:"price",children:[function(e){return String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}(i)," \u20bd"]})]})]})})}),x=c(10),v=c.n(x),g=function(e){e({type:"SET_LOADED",payload:!1}),v.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/goods").then((function(t){var c=t.data;return e({type:"SET_PRODUCTS",payload:c})}))},S=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.products.items}));return n.a.useEffect((function(){e(g)}),[e]),Object(O.jsx)("div",{className:"productsList",children:t&&t.map((function(e){return Object(O.jsx)(f,Object(p.a)({},e),e.id)}))})},C=c(3),N=(c(73),function(e){var t=e.children,c=e.onClick;return Object(O.jsx)("button",{onClick:c,className:"btn",type:"submit",children:t})}),E=c(39),_=c.n(E);c(89),c(90),c(91);function y(e){var t=e.images;return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(_.a,Object(p.a)(Object(p.a)({},{swipeToSlide:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:t&&t.map((function(e,t){return Object(O.jsx)("img",{src:e,alt:t},t)}))}))})}var T=n.a.createContext(),L=(c(92),function(e){var t=e.id,c=e.title,a=e.price,i=e.imageURL,r=e.images,s=(e.total,e.description),o=e.sizes;i="./.".concat(i),r=r.map((function(e){return"./../.".concat(e)}));var l=n.a.useState(o[0]),d=Object(j.a)(l,2),u=d[0],b=d[1],m=n.a.useContext(T).addCartItem,p={id:t,title:c,price:a,imageURL:i,activeSize:u};return Object(O.jsxs)("div",{className:"good-wrapper","data-id":t,children:[Object(O.jsx)("div",{className:"slider",children:Object(O.jsx)(y,{images:r})}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("h1",{className:"title",children:c}),Object(O.jsxs)("p",{className:"price",children:[function(e){return String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}(a)," \u0420\u0443\u0431."]}),Object(O.jsx)("div",{className:"chooseSize",children:Object(O.jsx)("select",{value:u,onChange:function(e){return b(e.target.value)},children:o&&o.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})}),Object(O.jsx)(N,{onClick:function(){return m(p)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),Object(O.jsx)("p",{className:"description",children:s})]})]})}),k=function(){var e=n.a.useState([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=document.location.pathname.substring(20).split("-").join(" ");return n.a.useEffect((function(){Object(d.a)(l.a.mark((function e(){var t,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([v.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/product-page?search=".concat(i))]);case 3:t=e.sent,c=Object(j.a)(t,1),n=c[0],a(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[i]),Object(O.jsx)("div",{children:c.map((function(e){return Object(O.jsx)(L,Object(p.a)({},e),e.id)}))})},w=(c(93),c.p+"static/media/btn-remove.b1fef0aa.svg"),I=function(e){var t=e.opened,c=void 0!==t&&t,a=e.onCloseCart,i=e.items,r=e.removeCartItem;return Object(O.jsx)(n.a.Fragment,{children:Object(O.jsx)("div",{className:"overlay ".concat(c?"overlayVisible":""),onClick:function(e){e.target.classList.contains("overlay")&&a()},children:Object(O.jsxs)("div",{className:"cart",children:[Object(O.jsx)("h2",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),i&&i.map((function(e){return Object(O.jsxs)("div",{className:"cart-item",children:[Object(O.jsx)("img",{className:"cart-item__image",width:200,src:"./../.".concat(e.imageURL),alt:"product in cart"}),Object(O.jsxs)("div",{className:"cart-item__info",children:[Object(O.jsxs)("p",{className:"cart-item__info-title",children:[e.title,"\xa0",Object(O.jsxs)("span",{children:["( ",e.activeSize," )"]})]}),Object(O.jsxs)("p",{className:"cart-item__info-price",children:[e.price," \u0420\u0443\u0431."]})]}),Object(O.jsx)("div",{className:"close-btn",children:Object(O.jsx)("img",{src:w,alt:"remove button",onClick:function(){return r(e.id)}})})]},e.id)}))]})})})},D=function(e){e({type:"SET_LOADED",payload:!1}),v.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems").then((function(t){var c=t.data;return e({type:"SET_CARTITEMS",payload:c})}))};var R=function(){var e=n.a.useState(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],i=n.a.useState([]),r=Object(j.a)(i,2),o=r[0],u=r[1],b=Object(h.b)();return n.a.useEffect((function(){Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([v.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems")]);case 3:t=e.sent,c=Object(j.a)(t,1),a=c[0],u(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))(),b(D)}),[]),Object(O.jsx)(T.Provider,{value:{addCartItem:function(e){try{v.a.post("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems",e),u((function(t){return[].concat(Object(s.a)(t),[e])}))}catch(t){console.log(t)}}},children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(m,{onCLickCart:function(){return a(!c)}}),Object(O.jsx)(I,{items:o,opened:c,onCloseCart:function(){return a(!c)},removeCartItem:function(e){try{v.a.delete("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems/".concat(e)),u((function(t){return t.filter((function(t){return t.id!==e}))}))}catch(t){console.log(t)}}}),Object(O.jsx)(C.a,{exact:!0,path:"/last-seen/",children:Object(O.jsx)(S,{})}),Object(O.jsx)(C.a,{path:"/last-seen/products/",children:Object(O.jsx)(k,{})})]})})},U=c(16),A=c(40),M={items:[],isLoaded:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(p.a)(Object(p.a)({},e),{},{isLoaded:t.payload});default:return e}},z={items:[],isLoaded:!1},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARTITEMS":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(p.a)(Object(p.a)({},e),{},{isLoaded:t.payload});default:return e}},J=Object(U.b)({products:P,cartItems:$}),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.c,X=Object(U.d)(J,V(Object(U.a)(A.a)));r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(h.a,{store:X,children:Object(O.jsx)(R,{})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.b434bfdd.chunk.js.map