(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},50:function(e,t,c){},70:function(e,t,c){},86:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(19),r=c.n(i),s=c(13),o=(c(43),c(10)),d=(c(44),c(1)),l=function(e){var t=e.onCLickCart;return Object(d.jsx)("header",{children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("img",{src:"./../images/logo.jpg",alt:"Logo"})})}),Object(d.jsxs)("li",{children:[Object(d.jsx)(o.b,{to:"/ru",children:"Russian"}),"\xa0/\xa0",Object(d.jsx)(o.b,{to:"/en",children:"English"})]}),Object(d.jsx)("li",{onClick:t,style:{marginTop:"10px"},children:"Cart"})]})})})},j=c(4),u=c(12),b=(c(50),function(e){var t=e.id,c=e.title,n=e.imageURL,a=e.hoverImageURL,i=e.price,r=e.total;return Object(d.jsx)(o.b,{to:"/products/".concat(function(e){return e.split(" ").join("-")}(c)),children:Object(d.jsxs)("div",{className:"card","data-id":t,children:[Object(d.jsxs)("div",{className:"image",children:[Object(d.jsx)("img",{src:n,alt:"good",onMouseOver:function(e){return e.currentTarget.src=a},onMouseOut:function(e){return e.currentTarget.src=n}}),0===r?Object(d.jsx)("div",{className:"status",children:"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"}):null]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:c}),Object(d.jsxs)("div",{className:"price",children:[function(e){return String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}(i)," \u20bd"]})]})]})})}),O=c(11),m=c.n(O),h=function(e){e({type:"SET_LOADED",payload:!1}),m.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/goods").then((function(t){var c=t.data;return e({type:"SET_PRODUCTS",payload:c})}))},p=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.products.items}));return a.a.useEffect((function(){e(h)}),[e]),Object(d.jsx)("div",{className:"productsList",children:t&&t.map((function(e){return Object(d.jsx)(b,Object(j.a)({},e),e.id)}))})},f=c(3),x=c(26),v=c.n(x),g=c(36),S=(c(70),function(e){var t=e.children,c=e.onClick;return Object(d.jsx)("button",{onClick:c,className:"btn",type:"submit",children:t})}),C=c(37),N=c.n(C);c(86),c(87),c(88);function E(e){var t=e.images;return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(N.a,Object(j.a)(Object(j.a)({},{swipeToSlide:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:t&&t.map((function(e,t){return Object(d.jsx)("img",{src:e,alt:t},t)}))}))})}var _=a.a.createContext(),y=(c(89),function(e){var t=e.id,c=e.title,n=e.price,i=e.imageURL,r=e.images,o=(e.total,e.description),l=e.sizes,j=a.a.useState(l[0]),u=Object(s.a)(j,2),b=u[0],O=u[1],m=a.a.useContext(_).addCartItem,h={id:t,title:c,price:n,imageURL:i,activeSize:b};return Object(d.jsxs)("div",{className:"good-wrapper","data-id":t,children:[Object(d.jsx)("div",{className:"slider",children:Object(d.jsx)(E,{images:r})}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("h1",{className:"title",children:c}),Object(d.jsxs)("p",{className:"price",children:[function(e){return String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}(n)," \u0420\u0443\u0431."]}),Object(d.jsx)("div",{className:"chooseSize",children:Object(d.jsx)("select",{value:b,onChange:function(e){return O(e.target.value)},children:l&&l.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})}),Object(d.jsx)(S,{onClick:function(){return m(h)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),Object(d.jsx)("p",{className:"description",children:o})]})]})}),T=function(){var e=a.a.useState([]),t=Object(s.a)(e,2),c=t[0],n=t[1],i=document.location.pathname.substring(10).split("-").join(" ");return a.a.useEffect((function(){Object(g.a)(v.a.mark((function e(){var t,c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([m.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/product-page?search=".concat(i))]);case 3:t=e.sent,c=Object(s.a)(t,1),a=c[0],n(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[i]),Object(d.jsx)("div",{children:c.map((function(e){return Object(d.jsx)(y,Object(j.a)({},e),e.id)}))})},L=(c(90),function(e){var t=e.opened,c=void 0!==t&&t,n=e.onCloseCart,i=e.items,r=e.removeCartItem;return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsx)("div",{className:"overlay ".concat(c?"overlayVisible":""),onClick:function(e){e.target.classList.contains("overlay")&&n()},children:Object(d.jsxs)("div",{className:"cart",children:[Object(d.jsx)("h2",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),i&&i.map((function(e){return Object(d.jsxs)("div",{className:"cart-item",children:[Object(d.jsx)("img",{className:"cart-item__image",width:200,src:e.imageURL,alt:"product in cart"}),Object(d.jsxs)("div",{className:"cart-item__info",children:[Object(d.jsxs)("p",{className:"cart-item__info-title",children:[e.title,"\xa0",Object(d.jsxs)("span",{children:["( ",e.activeSize," )"]})]}),Object(d.jsxs)("p",{className:"cart-item__info-price",children:[e.price," \u0420\u0443\u0431."]})]}),Object(d.jsx)("div",{className:"close-btn",children:Object(d.jsx)("img",{src:"./../images/btn-remove.svg",alt:"",onClick:function(){return r(e.id)}})})]},e.id)}))]})})})}),k=function(e){e({type:"SET_LOADED",payload:!1}),m.a.get("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems").then((function(t){var c=t.data;return e({type:"SET_CARTITEMS",payload:c})}))};var I=function(){var e=a.a.useState(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],i=a.a.useState([]),r=Object(s.a)(i,2),o=r[0],j=r[1],b=Object(u.b)();return Object(u.c)((function(e){return e.cartItems.items})),a.a.useEffect((function(){b(k)}),[]),Object(d.jsx)(_.Provider,{value:{addCartItem:function(e){try{m.a.post("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems",e),j((function(t){return t.filter((function(t){return t.id!==e.id}))}))}catch(t){console.log(t)}}},children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(l,{onCLickCart:function(){return n(!c)}}),Object(d.jsx)(L,{items:o,opened:c,onCloseCart:function(){return n(!c)},removeCartItem:function(e){try{m.a.delete("https://6112f8ba89c6d00017ac0605.mockapi.io/cartItems/".concat(e)),j((function(t){return t.filter((function(t){return t.id!==e}))}))}catch(t){console.log(t)}}}),Object(d.jsx)(f.a,{exact:!0,path:"/",children:Object(d.jsx)(p,{})}),Object(d.jsx)(f.a,{path:"/products/",children:Object(d.jsx)(T,{})})]})})},w=c(15),D=c(38),R={items:[],isLoaded:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(j.a)(Object(j.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(j.a)(Object(j.a)({},e),{},{isLoaded:t.payload});default:return e}},A={items:[],isLoaded:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARTITEMS":return Object(j.a)(Object(j.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(j.a)(Object(j.a)({},e),{},{isLoaded:t.payload});default:return e}},P=Object(w.b)({products:U,cartItems:M}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.c,$=Object(w.d)(P,z(Object(w.a)(D.a)));r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(u.a,{store:$,children:Object(d.jsx)(I,{})})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.a2f2ec70.chunk.js.map